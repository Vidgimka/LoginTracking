КАждый раз на каждый запрос создавать новое соедниенеие к бд нельзя
Это очень медленно и соединения закончатс
Их надо закрывать
Нужно в создать его только раз в main
и везде испольльзовать для запросов передавая по указателю